pkgname=unicsy-demo
pkgver=0.4.5.0
pkgrel=0
pkgdesc="Phone hardware demo (battery status, light sensors, accelerometer, LEDs, backlights)"
url="https://github.com/pavelmachek/unicsy_demo"
arch="noarch"
license="GPL3"
depends="python2 py-gtk-dev py-dbus mate-terminal xscreensaver pulseaudio alsa-utils bash xmessage"
# Would really like: mplayer evdev-python -- investigate!
makedepends=""
subpackages=""

# For releases
# source="${pkgname}-${pkgver}.tar.gz::https://github.com/pavelmachek/unicsy_demo/archive/${pkgver}.tar.gz"
# For development
source="${pkgname}-${pkgver}.tar.gz::https://api.github.com/repos/pavelmachek/unicsy_demo/tarball/master"
#source="${pkgname}-${pkgver}.tar.gz::https://api.github.com/repos/pavelmachek/unicsy_demo/tarball/7b3e75f6b5aa3de7f682e213b353c8dca545a6eb"

options="!strip"

package() {
    install -d -m755 "$pkgdir"/usr/share/unicsy
    install -d -m755 "$pkgdir"/usr/bin
    cp -a "${srcdir}/unicsy_demo-${pkgver}"/* "$pkgdir"/usr/share/unicsy/
    ln -s /usr/share/unicsy/demo/demo.py "$pkgdir"/usr/bin/unicsy_demo
    install -D -m755 "$srcdir/unicsy_demo-${pkgver}"/startup/unicsy_demo.desktop \
		     "$pkgdir"/etc/xdg/autostart/unicsy_demo.desktop
    install -D -m440 "$srcdir/unicsy_demo-${pkgver}"/startup/phone.sudoers \
		     "$pkgdir"/etc/sudoers.d/phone
}
sha512sums="a8558e87ec3cd333e526eda8f46d71fc104bbf590aea24b193ac7c3d55aeb5f11bf02bd8dbd8d1e10311500aea466ca2c17857a603803ac5bb75aa9e60f17038  unicsy-demo-0.4.5.0.tar.gz"
